(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{23:function(e,t,c){},25:function(e,t,c){},26:function(e,t,c){},27:function(e,t,c){},28:function(e,t,c){"use strict";c.r(t);var n,s=c(9),o=c.n(s),r=c(4),a=c(14),i=c(7),l=c(5);!function(e){e.SET_TODOS="SET_TODOS",e.SELECT_USER="SELECT_USER",e.DELETE_TODO="DELETE_TODO"}(n||(n={}));var d,u={selectedUser:null,todos:[]},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.SET_TODOS:return Object(l.a)(Object(l.a)({},e),{},{todos:t.payload.todos});case n.SELECT_USER:return Object(l.a)(Object(l.a)({},e),{},{selectedUser:t.payload.userId});case n.DELETE_TODO:return Object(l.a)(Object(l.a)({},e),{},{todos:e.todos.filter((function(e){return e.id!==t.payload.todoId}))});default:return e}},b=Object(i.a)({todosList:j}),O=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.b,_=Object(i.c)(b,O()),h=c(0),p=function(e){return{type:n.SELECT_USER,payload:{userId:e}}},f=c(15),m=c(3),x=c(12),E=c.n(x),T=(c(23),c(1));!function(e){e.all="All",e.active="Active",e.completed="Completed"}(d||(d={}));var v=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.todosList.todos})),c=Object(r.c)((function(e){return e.todosList.selectedUser})),s=Object(h.useState)(""),o=Object(m.a)(s,2),a=o[0],i=o[1],l=Object(h.useState)(d.all),u=Object(m.a)(l,2),j=u[0],b=u[1],O=Object(h.useState)(t),_=Object(m.a)(O,2),x=_[0],v=_[1],L=function(t){e(function(e){return{type:n.DELETE_TODO,payload:{todoId:e}}}(t))};Object(h.useEffect)((function(){v(t.filter((function(e){var t=e.title.includes(a);switch(j){case d.active:return!e.completed&&t;case d.completed:return e.completed&&t;case d.all:default:return t}})))}),[a,j,t]);return Object(T.jsxs)("div",{className:"TodoList",children:[Object(T.jsx)("h2",{children:"Todos:"}),Object(T.jsxs)("div",{className:"TodoList__list-container",children:[Object(T.jsxs)("div",{className:"TodoList__nav",children:[Object(T.jsx)("input",{type:"search",className:"TodoList__search",placeholder:"Search todo",value:a,onChange:function(e){return i(e.target.value)}}),Object(T.jsxs)("select",{className:"TodoList__select",value:j,onChange:function(e){return b(e.target.value)},children:[Object(T.jsx)("option",{value:d.all,children:d.all}),Object(T.jsx)("option",{value:d.active,children:d.active}),Object(T.jsx)("option",{value:d.completed,children:d.completed})]}),Object(T.jsx)("button",{type:"button",className:"TodoList__random button",onClick:function(){return v(Object(f.a)(x).sort((function(){return Math.random()-.5})))},children:"Random"})]}),Object(T.jsx)("ul",{className:"TodoList__list",children:x.length>0&&x.map((function(t){return Object(T.jsxs)("li",{className:E()("TodoList__item",{"TodoList__item--unchecked":!1===t.completed},{"TodoList__item--checked":!0===t.completed}),children:[Object(T.jsxs)("label",{children:[Object(T.jsx)("input",{type:"checkbox",readOnly:!0}),Object(T.jsx)("p",{children:t.title})]}),Object(T.jsxs)("div",{className:"TodoList__buttons",children:[Object(T.jsx)("button",{className:E()("TodoList__user-button","button",{"TodoList__user-button--selected":t.userId===c}),type:"button",onClick:function(){return n=t.userId,void(c!==n&&e(p(n)));var n},children:"User #".concat(t.userId)}),Object(T.jsx)("button",{className:"TodoList__user-button_delete button",type:"button",onClick:function(){return L(t.id)},children:"Delete"})]})]},t.id)}))})]})]})},L=function(e){return fetch("".concat("https://mate.academy/students-api").concat(e)).then((function(e){return e.json()}))},S=(c(25),function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.todosList.selectedUser})),c=Object(h.useState)(),n=Object(m.a)(c,2),s=n[0],o=n[1];Object(h.useEffect)((function(){var e;(e=t,L("/users/".concat(e))).then((function(e){return o(e)}))}),[t]);return Object(T.jsx)("div",{className:"CurrentUser",children:s&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("h2",{className:"CurrentUser__title",children:Object(T.jsx)("span",{children:"Selected user: ".concat(s.id)})}),Object(T.jsx)("h3",{className:"CurrentUser__name",children:s.name}),Object(T.jsx)("p",{className:"CurrentUser__email",children:s.email}),Object(T.jsx)("p",{className:"CurrentUser__phone",children:s.phone}),Object(T.jsx)("button",{type:"button",className:"CurrentUser__clear button",onClick:function(){e(p(null))},children:"Clear"})]})})}),N=(c(26),c(27),function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.todosList.selectedUser}));return Object(h.useEffect)((function(){L("/todos").then((function(t){return e((c=t,{type:n.SET_TODOS,payload:{todos:c}}));var c}))}),[]),Object(T.jsxs)("div",{className:"App",children:[Object(T.jsx)("div",{className:"App__sidebar",children:Object(T.jsx)(v,{})}),Object(T.jsx)("div",{className:"App__content",children:Object(T.jsx)("div",{className:"App__content-container",children:t?Object(T.jsx)(S,{}):"No user selected"})})]})}),y=function(){return Object(T.jsx)(r.a,{store:_,children:Object(T.jsx)(a.a,{children:Object(T.jsx)(N,{})})})};o.a.render(Object(T.jsx)(y,{}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.6a246022.chunk.js.map